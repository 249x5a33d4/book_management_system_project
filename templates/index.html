{% extends "base.html" %}
{% block content %}

<h2>All Books</h2>

{% if books %}
<table>
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Year</th>
        <th>Action</th>
    </tr>

    {% for b in books %}
    <tr>
        <td>{{ b.id }}</td>
        <td>{{ b.title }}</td>
        <td>{{ b.author }}</td>
        <td>{{ b.year or '-' }}</td>
        <td>
            <a href="{{ url_for('edit', book_id=b.id) }}">Edit</a> |
            <form action="{{ url_for('delete', book_id=b.id) }}" method="POST"
                  class="inline"
                  onsubmit="return confirm('Delete this book?');">
                <button type="submit" class="danger-btn">Delete</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No books added yet.</p>
{% endif %}

<hr style="margin: 30px 0;">

<h2>Add New Book</h2>
<form method="POST">
    <label>Book Title:</label>
    <input type="text" name="title" required>

    <label>Author:</label>
    <input type="text" name="author" required>

    <label>Year:</label>
    <input type="number" name="year" min="0">

    <button type="submit">Add Book</button>
</form>

{% endblock %}
